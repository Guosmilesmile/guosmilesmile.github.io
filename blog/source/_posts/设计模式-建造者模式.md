---
title: 设计模式-建造者模式
date: 2019-12-15 11:34:58
tags:
categories:
	- 设计模式
---


![image](https://note.youdao.com/yws/api/personal/file/A0ABD41B3F694FFABA9CAC34DA814E5D?method=download&shareKey=0ecbdb6f1528e63b40ee5e42456d5897)

* 产品类：一般是一个较为复杂的对象，也就是说创建对象的过程比较复杂，一般会有比较多的代码量。在本类图中，产品类是一个具体的类，而非抽象类。实际编程中，产品类可以是由一个抽象类与它的不同实现组成，也可以是由多个抽象类与他们的实现组成。
* 抽象建造者：引入抽象建造者的目的，是为了将建造的具体过程交与它的子类来实现。这样更容易扩展。一般至少会有两个抽象方法，一个用来建造产品，一个是用来返回产品。
* 建造者：实现抽象类的所有未实现的方法，具体来说一般是两项任务：组建产品；返回组建好的产品。
* 导演类：负责调用适当的建造者来组建产品，导演类一般不与产品类发生依赖关系，与导演类直接交互的是建造者类。一般来说，导演类被用来封装程序中易变的部分。


```java
class Product {
	private String name;
	private String type;
	public void showProduct(){
		System.out.println("名称："+name);
		System.out.println("型号："+type);
	}
	public void setName(String name) {
		this.name = name;
	}
	public void setType(String type) {
		this.type = type;
	}


abstract class Builder {
	public abstract void setPart(String arg1, String arg2);
	public abstract Product getProduct();
}
class ConcreteBuilder extends Builder {
	private Product product = new Product();
	
	public Product getProduct() {
		return product;
	}
 
	public void setPart(String arg1, String arg2) {
		product.setName(arg1);
		product.setType(arg2);
	}
}
 
public class Director {
	private Builder builder = new ConcreteBuilder();
	public Product getAProduct(){
		builder.setPart("宝马汽车","X7");
		return builder.getProduct();
	}
	public Product getBProduct(){
		builder.setPart("奥迪汽车","Q5");
		return builder.getProduct();
	}
}
public class Client {
	public static void main(String[] args){
		Director director = new Director();
		Product product1 = director.getAProduct();
		product1.showProduct();
 
		Product product2 = director.getBProduct();
		product2.showProduct();
	}
}
```

### 建造者模式与简单工厂模式的区别

建造者模式与工厂模式是极为相似的，总体上，建造者模式仅仅只比工厂模式多了一个“导演类”的角色。在建造者模式的类图中，假如把这个导演类看做是最终调用的客户端，那么图中剩余的部分就可以看作是一个简单的工厂模式了


### 建造者模式与抽象工厂模式的区别

在工厂方法模式里，我们关注的是一个产品整体。在上篇文章中的抽象工厂中，是直接创建出Android平台，获取控制器和ui，抽象工厂可以减少工厂的数量。 

但在建造者模式中，一个具体产品的产生是依赖各个部件的产生以及装配顺序，它关注的是“由零件一步一步地组装出产品对象”。在导演类中，可以根据你需要的型号去自行修改，例如同一个型号的宝马，轮子可以换成别的型号就可以在导演类中修改。